<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <title>Webwidgets documentation</title>
  <style type="text/css">
   h1 {
    font-variant: small-caps;
    font-size: 18pt;
   }

   h2 {
    font-variant: small-caps;
    font-size: 16pt;
   }

   h3 {
    font-variant: small-caps;
    font-size: 14pt;
   }

   blockquote {
    border: 1px solid #880088;
   }

   p.intro {
    font-style: italic;
    padding-left: 1em;
   }

   p.comment {
    font-style: italic;
    color: #FF0000;
   }

   p.rationale {
    font-style: italic;
    border-left: 2pt solid #880088;
    padding-left: 1em;
   }
  </style>
 </head>
 <body>

  <h1>Contents</h1>
  <ul>
   <li><a href="#copyright">Copyright</a></li>
   <li><a href="#installation">Installation</a></li>
   <li><a href="#introduction">Introduction to Webwidgets</a></li>
   <li><a href="#overview">Architecture overview</a>
    <ul>
     <li><a href="#overview_design">Design</a></li>
     <li><a href="#overview_implementation">Implementation details</a></li>
    </ul></li>
   <li><a href="#wwml">Description of the Wwml user interface definition language</a></li>
   <li><a href="#i18n-L10n">Internationalization and localization</a></li>
   <li><a href="#acl">Access control</a></li>
   <li><a href="#security">Security</a></li>

   <li><a href="ReferenceManual/index.html">Reference Manual</a></li>
   <li><a href="#license">GNU General Public License</a></li>
  </ul>

  <!-- ################################################################ -->








  <h1><a name="copyright" />Copyright</h1>
  <div>Webwidgets documentation</div>
  <div>Copyright (C) 2007 FreeCode AS, Egil Moeller &lt;egil.moller@freecode.no&gt;</div>
  <div>Copyright (C) 2007 FreeCode AS, Egil Moeller &lt;redhog@redhog.org&gt;</div>

  <p>This documentation is free software; you can redistribute it
  and/or modify it under the terms of the GNU General Public License
  as published by the Free Software Foundation; either version 2 of
  the License, or (at your option) any later version.</p>

  <p>This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the <a
  href="#license">GNU General Public License</a> for more details.</p>

  <p>You should have received a copy of the GNU General Public License
  along with this program; if not, write to the Free Software
  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
  02110-1301, USA.</p>

  <!-- ################################################################ -->








  <h1><a name="installation" />Installation</h1>
  <p class="intro">This part helps you install Webwidgets and test that
  it works correctly</p>

  <p>Webwidgets depends on the Python library <a
  href="http://www.webwareforpython.org/">Webware</a>, and the first
  step of the installation is to install <a
  href="http://www.webwareforpython.org/">Webware</a>. Although
  installing Webware is more than half of the work of setting up
  Webwidgets, guiding you through that installation process is out of
  the scope of this documentation.</p>

  <p>For the rest of this guide, we will assume that you have
  installed <a href="http://www.webwareforpython.org/">Webware</a> and
  that you have prepared a <a
  href="http://www.webwareforpython.org/">Webware</a> working
  directory at <tt>/var/www/WebWare</tt>, accessible using Apache
  and mod_webkit at <tt>http://example.com/WKMod</tt>.</p>

  <p>Python modules must be installed in a directory in the python
  path. By default, only the directory
  <tt>/usr/lib/python$#PYTONVERSION/site-packages</tt> is in the
  python path. Additional directories can be added using the
  <tt>PYTHONPATH</tt> environment variable. The second step is thus to
  unpack <tt>Webwidgets.$VERSION.tgz</tt> under
  <tt>/usr/lib/python$#PYTONVERSION/site-packages</tt>, or anywhere
  else in the python path.</p>

  <p>There are several Webwidgets examples available in
  the Tests subdirectory of the Webwidgets directory. To use these
  without modification, the whole Webwidgets directory must be made
  available as a Webware context. To install this directory as a
  context, add the following line to the file
  <tt>/var/www/WebWare/Configs/Application.config</tt>:</p> 

  <blockquote><pre>
Contexts['Webwidgets'] = '/usr/lib/python$#PYTONVERSION/site-packages/Webwidgets'
  </pre></blockquote>

  <p>After the context has been installed, restart the app server,
  e.g. <tt>/etc/init.d/webkit restart</tt>, and navigate to
  <tt>http://example.com/WKMod/Webwidgets/Tests/WwmlTest1</tt>.</p>

  <!-- ################################################################ -->








  <h1><a name="introduction" />Introduction to Webwidgets</h1>
  <p class="intro">This part will guide you through creating your
  first Webwidgets application. It assumes you have already
  successfully installed Webware and Webwidgets and tested that it
  works as expected.</p>

  <p>A Webwidgets application is in itself a Webware page and each
  Webware page must reside in some Webware context. So the first step
  of creating a Webwidgets application would be to create a Webware
  context: First create the directory
  <tt>/usr/lib/python2.3/site-packages/HelloWeb</tt>, then add the
  following line to the end of the file
  <tt>/var/www/WebWare/Configs/Application.config</tt>:</p>

  <blockquote><pre>
Contexts['HelloWeb'] = '/usr/lib/python$#PYTHONVERSION/site-packages/HelloWeb'
  </pre></blockquote>

  <p>Next, we need to add a Webware page, a user interface
  definition and a callbacks file to the context directory. When
  done, the directory will look thus:</p>

  <blockquote><pre>
/usr/lib/python$#PYTONVERSION/site-packages/HelloWeb
/usr/lib/python$#PYTONVERSION/site-packages/HelloWeb/__init__.py
/usr/lib/python$#PYTONVERSION/site-packages/HelloWeb/index.py #This is the webware page
/usr/lib/python$#PYTONVERSION/site-packages/HelloWeb/UI
/usr/lib/python$#PYTONVERSION/site-packages/HelloWeb/UI/__init__.wwml
/usr/lib/python$#PYTONVERSION/site-packages/HelloWeb/Callbacks
/usr/lib/python$#PYTONVERSION/site-packages/HelloWeb/Callbacks/__init__.py
  </pre></blockquote>

  <p>The Webware index page index.py is the main entry point of the
  application which loads the user interface when a new session is
  opened by a user. Do note that Webware requires the Program subclass
  to be named the same as the file (index)</p>

  <blockquote><pre>
#! /bin/env python
# -*- coding: UTF-8 -*-
# vim: set fileencoding=UTF-8 :

import Webwidgets
import HelloWeb.UI

class index(Webwidgets.Program):
    class Session(Webwidgets.Program.Session):
	def new_window(self, win_id):
	    return HelloWeb.UI.MyWindow(self, win_id)
  </pre></blockquote>

  <p>The user interface definition is the module named UI above and is
  expected to contain a top-level Window subclass called
  MyWindow.</p> 

  <p>It is possible to write the user interface definition in pure
  Python which allows for greate flexibility, but is also quite
  verbose and requires lots and lots of boilerplate code, so the code
  presented here uses the <a href="#wwml">Wwml</a> language to define
  the user interface. This is a simple XML-based language for defining
  the UI layout (but not the actual look - that's the job of <a
  href="http://www.w3.org/TR/CSS21/">CSS</a>!).</p>

  <p>Not only does Wwml simplify the work to create widgets, it also
  helps separating the layout from the application code, which is
  stored in a separate python module file. In this example, that's the
  HelloWeb.Callbacks module.</p>

  <p>First <tt>UI/__init__.wwml</tt>:</p>
  <blockquote><pre>
&lt;?xml version="1.0"?&gt;
&lt;w:wwml
 xmlns="http://www.w3.org/TR/REC-html40"
 xmlns:w="http://freecode.no/xml/namespaces/wwml-1.0"
 xmlns:html="http://www.w3.org/TR/REC-html40"
 bind="HelloWeb.Callbacks"
 &gt;
 &lt;w:HtmlWindow
  id="MyWindow"
  title="Redback Webwidgets demo application"&gt;

  &lt;w:StyleLink id="head" style="../../Widgets.css" /&gt;

  &lt;w:Html id="body"&gt;
   &lt;div&gt;Please enter some random string below and press "go"&lt;/div&gt;
   &lt;div&gt;
    &lt;w:Html id="res" html="" /&gt;
    &lt;w:StringInput id="str" /&gt;
    &lt;w:Button id="go" title="go" /&gt;
   &lt;/div&gt;
  &lt;/w:Html&gt;
 &lt;/w:HtmlWindow&gt;
&lt;/w:wwml&gt;
  </pre></blockquote>

  <p>Next, the <tt>Callbacks/__init__.py</tt>:</p>
  <blockquote><pre>
# -*- coding: UTF-8 -*-
# vim: set fileencoding=UTF-8 :

class MyWindow(object):
    class body(object):
	class go(object):
	    def clicked(self, path):
		self.parent['res'].html = self.parent['str'].value
  </pre></blockquote>

  <p>Hey, that was a load of XML in that Wwml-file. Actually, quite
  a lot of it was just boilerplate that needs to be there for it to be
  correct XML and thus Wwml. We'll go though the code line-by line
  now:</p>

   <blockquote><pre>
&lt;?xml version="1.0"?&gt;
&lt;w:wwml
 xmlns="http://www.w3.org/TR/REC-html40"
 xmlns:w="http://freecode.no/xml/namespaces/wwml-1.0"
 xmlns:html="http://www.w3.org/TR/REC-html40"
   </pre></blockquote>

   <p>Ok, so that's the boilerplate. This is setting up namespaces for
   Wwml tags and HTML tags, so that they can be freely mixed.</p>

   <blockquote><pre>
 bind="HelloWeb.Callbacks"
 &gt;
   </pre></blockquote>

   <p>This <a href="#wwml_callback-binding">binds</a> the
   python module HelloWeb.Callbacks to the widgets in the interface
   definition, so that the callback function (clicked) defined in
   there will be called when the button in the UI is clicked.</p>

   <blockquote><pre>
 &lt;w:HtmlWindow
  id="MyWindow"
  title="Redback Webwidgets demo application"&gt;
   </pre></blockquote>

   <p>This is what creates our main window widget. The tag name is the
   name of an existing widget, either defined in some other Wwml-file
   in the aplication, or one of the predefined ones from the
   Webwidgets package. The id tag is required, and gives the name of
   the widget that gets created. More information on the tag syntax
   can be found at <a href="#wwml_basic-tag-structure">Basic tag
   structure</a>.</p>

   <blockquote><pre>
  &lt;w:StyleLink id="head" style="../../Widgets.css" /&gt;
   </pre></blockquote>

   <p>This just adds a stylesheet to the head section of the HTML
   document.</p>

   <blockquote><pre>
  &lt;w:Html id="body"&gt;
   </pre></blockquote>

   <p>Here goes the bulk of the document...</p>

   <blockquote><pre>
   &lt;div&gt;Please enter some random string below and press "go"&lt;/div&gt;
   &lt;div&gt;
    &lt;w:Html id="res" html="" /&gt;
    &lt;w:StringInput id="str" /&gt;
    &lt;w:Button id="go" title="go" /&gt;
   &lt;/div&gt;
  &lt;/w:Html&gt;
 &lt;/w:HtmlWindow&gt;
&lt;/w:wwml&gt;
   </pre></blockquote>
  
  <p>Html code can <a href="#wwml_html-format-strings">freely be
  mixed</a> in with the Wwml inside a w:Html tag. 
  </p>
 
  <p>The callbacks file defines what actually happens when the user
  does something, e.g. clicks on the "go" button. When this happen, a
  callback function is called in this file. This callback can modify
  the user interface "live" - there is no explicit session handling as
  in e.g. PHP or JavaBeans, but it works much the same as <a
  href="http://gtk.org/">Gtk</a> - the UI stays the same until
  explicitly modified, and changes are seen by the user more or less
  directly (as soon as the webpage finishes loading :).</p>


  <blockquote><pre>
# -*- coding: UTF-8 -*-
# vim: set fileencoding=UTF-8 :

class MyWindow(object):
    class body(object):
	class go(object):
  </pre></blockquote>

  <p>The layout of the classes defined inside each other in the
  callbacks file exactly mirrors the widget tags in the Wwml file.
  Compare the above to the following exerpt:</p>

  <blockquote><pre>
 &lt;w:HtmlWindow id="MyWindow"&gt;
  &lt;w:Html id="body"&gt;
    &lt;w:Button id="go" title="go" /&gt;
  </pre></blockquote>

  <blockquote><pre>
	    def clicked(self, path):
  </pre></blockquote>

  <p>There are several callbacks that can be defined, and the
  available callbacks varies from widget to widget. Every callback
  takes a different set of parameters, but they all share the first
  parameter - <tt>path</tt>, which is the path through the widget tree
  to the widget who's callback is called.</p>

  <blockquote><pre>
		self.parent['res'].html = self.parent['str'].value
  </pre></blockquote>

  <p>This sets the HTML code of the <tt>res</tt> child widget of the
  parent widget of the <tt>Button</tt> widget to the string the user
  has entered in the <tt>str</tt> child input widget of the parent
  widget.</p>

  <p>So, if you have managed to read this far, and have a working
  first application and it's time to read up on what widgets there are in
  the <a href="ReferenceManual">reference manual</a> and start
  breaking your first app :P</p>

  <!-- ################################################################ -->







  <h1><a name="overview" />Architecture overview</h1>
  <h2><a name="overview_design" />Design</h2>

  <p class="intro">This document explains the overall architecture and
  design choices of Webwidgets. It answers both the how:s and the
  why:s.</p>

  <h3><a name="overview_design_user-interfaces-as-widget-trees" />User interfaces as widget trees</h3>
  <p>In Webwidgets everything you see is a widget. Even an
  application is a widget. Each such widget might in its turn
  consist of several other widgets, either by incorporating them as
  child widgets or by subclassing them.</p>

  <p class="rationale">The aim of this library is to encourage and
  ease code re-use - user interface functionality can easily be
  packaged and reused throughout a set of applications.</p>


  
  <h3><a name="overview_design_statefull-widgets" />Statefull widgets</h3>
  <p>Each widget is implemented as a Python class. A web user session
  then consists of one or more instance of such classes.</p>

  <p>As these instances are part of the session, they survive between
  page-loads, and member variables of the widget, such as the one
  holding the value for a string input box or the label string for a
  button, stay the same until actively changed by the user (for input
  widgets) or by the application code.</p>

  <p class="rationale">This removes the burden of re-creating the user
  interface at each page-load, re-reading values from the database at
  each page-load, and manually managing session content.</p>


  <h3><a name="overview_design_notifications" />Notifications</h3>
  <p>As soon as an attribute of a widget is changed, either by user
  input or by some code, a notification is sent to the widget. This
  notification is named as the attribute, with <tt>Changed</tt>
  appended, e.g. <tt>value_changed</tt> for the <tt>value</tt>
  attribute, and raised with the new value as sole parameter.</p>

  <p>A notification is implemented as a call to a method on the widget
  with a special first parameter <tt>path</tt> that holds the path to
  the widget. Unless that method breaks out by raising a
  <tt>StopIteration</tt> exception, the notification is propagated to
  the parent widget up to the top-level <tt>Window</tt>. All the way
  through this propagation, the <tt>path</tt> parameter stays the
  same, pointing to the originally notified widget.</p>

  <p class="rationale">The propagation makes it possible to implement
  a complicated widget with many fields and just one single function
  to handle all of the state changes.</p>


  <h3><a name="overview_design_input-handling" />Input handling</h3>
  <p>Input handling is done using two special methods,
  <tt>field_input</tt> and <tt>field_output</tt>. The former method is
  called with a list of field values, and can update any attributes on
  the widget as it sees fit. This in turn raises notifications as
  usual. The latter method is used to query the widget for its current
  state and should return a list of the same format. This is used to
  inhibit calls to field_input when the user hasn't actually changed
  anything.</p>


  <h3><a name="overview_design_url-argument-handling" />URL argument handling</h3>
  <p>URL arguments (<tt>GET</tt> parameters) are grafted onto the
  Webwidgets framework which is based on a global HTML form and
  <tt>POST</tt> requests. Their main purpose is to allow the user to
  bookmark a page, and as an alternative way of user input and
  output.</p> 

  <p>URL arguments always corresponds to widget attribute values. If
  not, the widget attributes are updated (and notifications sent as
  usual).</p>

  <p>However, all widget attributes need not be present in the
  URL, specifically attributes of hidden widgets are never present in
  the URL. If a previously hidden widget is made visible and has
  attributes that are supposed to be in the URL, the browser is sent a
  HTTP redirect to a new URL containing those new values.</p>

  <p class="rationale">This provides the functionality the user
  expects while requiring the least amount of effort from the
  application programmer.</p>

  <h3><a name="overview_design_output-options" />Output options</h3>
  <p>FIXME</p>

  <h3><a name="overview_design_windows" />Windows</h3>
  <p>A Webwidgets application can provide the user with several
  separate pages or windows each with its own widget tree and
  URL. These windows are created by the application after the user has
  navigated to the corresponding URL and must be destroyed by the
  application code manually (ultimately, they are destroyed as the
  session is destroyed when it times out).</p>

  <p class="rationale">It is sometimes desirable to have separate
  pop-up-windows or frames with their own state. This functionality
  provides that.</p>


  <h2><a name="overview_implementation" />Implementation details</h2>

  <h3>Instantiation and initialization</h3>
  <p>When a session is created a <tt>Window</tt> widget is
  instantiated and with it any number of child widgets. This child
  widget instantiation can be done either automatically or manually
  from the initialization method of the parent widget.</p>

  <p>If the child widget does not need any special parameters for its
  initialization method, it can be instantiated automatically and
  nothing special is required except for the child widget class to be
  a member of the parent widget class.</p>

  <p>If the child widget class is a class member of the parent
  widget class while it is not desired for it to be instantiated
  automatically, it has to set a special class member
  variable. Whenever manual instantiation is used for child widgets
  they should be initialized in the parents initialization
  function. The parents initialization function should also give those
  children as parameters to its superclass' initialization
  function.</p>

  <p class="rationale">It is practical to encapsulate child widget
  classes within the parent widget class as this makes the widget
  more portable and parts of it more overrideable. The automatic
  instantiation solves the problem nine times out of ten in
  practice.</p>

  <h3><a name="overview_implementation_output" />Output</h3>
  <p>Output to the web browser can come from one of two sources - a
  widget class or a widget instance depending on the presence of
  <tt>_widget</tt> or <tt>_widget_class</tt> among the output
  parameters. In the former case, <tt>class_output(output_options)</tt>
  is called on the class, and in the latter
  <tt>output(output_options)</tt> is called on the instance.</p>

  <p>The default case is that output comes from the top level widget,
  that is from the window instance. The <tt>output(output_options)</tt>
  method of the window instance then constructs the output by calling
  <tt>draw(output_options)</tt>, which recurses to
  <tt>draw(output_options)</tt> on its child widgets whom in their turn
  may call this function on their children.</p>

  <h4><a name="overview_implementation_output_html" />In-page HTML output</h4>
  <p>The <tt>draw</tt> method is called on a widget to draw the HTML
  of that widget to be incorporated in the output of draw of its
  parent widget. This method can also optionally register input fields
  and URL arguments.</p>

  <p>The <tt>Composite</tt> widget is the base class for all widgets
  that have children and provides methods for recursing over the
  <tt>draw</tt> methods of its children including handling visibility
  of children.</p>

  <h4><a name="overview_implementation_output_raw-data-output" />Raw data output</h4>

  <p>For a widget to include raw data, e.g. an image, CSS file that is
  to be referenced by a link in the HTML, it needs to provide this
  data using one of the <tt>output()</tt> and <tt>class_output()</tt>
  methods. The widget can construct the URL using the
  <tt>calculate_url()</tt> method.</p> 

  <!-- ################################################################ -->







  <h1><a name="wwml" />The Wwml user interface markup language</h1>
  <p class="intro">Wwml provides an alternative and much shorter
  syntax for defining widget classes than to define them using pure
  Python. It does however not add any extra functionality. That is,
  every Wwml construct can be mapped into an equivalent Python
  construct, and is indeed compiled to one when the Wwml file is
  loaded.</p> 


  <h2><a name="wwml_the-module-system" />The module system</h2>
  <p>Wwml integrates with Python and its module system in a way that
  makes Wwml files appear as normal Python modules to a Python
  program. Those modules can be imported and used in the same way as
  ordinary Python modules as long as the Webwidgets module has been
  loaded prior to the attempt to load a Wwml module.</p>

  <p>Wwml also imports Python modules (or Wwml files) along with
  widget definitions for widgets that are used in a Wwml file. When
  referring to widgets Wwml uses Python module paths (e.g.
  <tt>Module.SubModule.SomeClass.SomeClassWithinTheFirstClass</tt>).</p>

  <h2><a name="wwml_xml-syntax" />XML syntax</h2>
  <p>Wwml is an <a href="http://www.w3.org/XML/">XML</a> application,
  and uses <a href="http://www.w3.org/TR/REC-xml-names/">XML
  namespaces</a> to separate embedded HTMl code from Wwml code. Wwml
  tags live in the namespace
  <tt>http://freecode.no/xml/namespaces/wwml-1.0</tt>. The outermost
  tag of a Wwml document is always the <tt>wwml</tt> tag which serves
  the purpose of containing namespace declarationsm the callback
  bindings and declaring a search path for widgets.</p>

  <blockquote><pre>
&lt;?xml version="1.0"?&gt;
&lt;w:wwml
 xmlns="http://www.w3.org/TR/REC-html40"
 xmlns:w="http://freecode.no/xml/namespaces/wwml-1.0"
 xmlns:html="http://www.w3.org/TR/REC-html40"
 &gt;
  </pre></blockquote>

  <h2><a name="wwml_basic-tag-structure" />Basic tag structure</h2>
  <p>Each tag except for the top-level <tt>wwml</tt> tag defines a
  widget class. It consists of a tag name, an id attribute, any number
  of attributes, any number of child widgets and an implicit HTML
  format string (if the tag has children).</p>

  <p>The tag name is the name (or module path) of some existing widget
  to subclass and the id attribute defines the name of the new
  class.</p>

  <p>Attributes and children are interchangable and defines class
  variables for the new class. These can hold either child widgets or
  Python values (e.g. strings, integers, lists, dictionaries...).</p>

  <p>Example:</p>
  <blockquote><pre>
&lt;w:MyModule.MyWidget id="MyFirstWidget" foo="xyzzy"&gt;
 &lt;w:OtherModule.SubMod.OtherWidget id="bar" /&gt;
&lt;/w:MyModule.MyWidget&gt;
  </pre></blockquote>
  
  <p>This compiles (roughly) into:</p>
  <blockquote><pre>
import MyModule, OtherModule.SubMod

class MyFirstWidget(MyModule.MyWidget):
    foo="xyzzy"
    class bar(OtherModule.SubMod.OtherWidget):
        pass
  </pre></blockquote>

  <h2><a name="wwml_special-tags-and-attribute-types" />Special tags and attribute types</h2>
  <p>Wwml allows for attributes to hold values of different types
  (e.g. strings, integers, booleans...). By default an attribute value is
  considered a string. To define an attribute value of a different
  type the attribute value must be prefixed with a <tt>":type:"</tt>,
  (e.g. <tt>":string:My string value here"</tt>, <tt>":integer:4711"</tt>,
  <tt>":time:2007-07-31 17:22:05"</tt>).</p>

  <p>These same types are also available as tags to make attributes
  and children more interchangable.</p>

  <p>Example:</p>
  <blockquote><pre>
&lt;w:MyModule.MyWidget id="MyFirstWidget" foo=":integer:4711"&gt;
 &lt;w:integer id="bar"&gt;4712&lt;/w:integer&gt;
&lt;/w:MyModule.MyWidget&gt;
  </pre></blockquote>


  <h2><a name="wwml_html-format-strings" />HTML format strings</h2>
  <p>Wwml is intended to assist in writing complicated user interfaces
  that mixes widgets and static HTML content. To help with this, Wwml
  provides widgets with a special attribute called <tt>html</tt> that
  holds a Python format string corresponding to the content inside the
  Wwml tag for the widget. All non-wwml content (e.g. HTML tags and
  text) is copied as-is to this attribute while Wwml tags are
  replaced by <tt>%(id)s</tt>, where id is the value of the
  <tt>id</tt> attribute of the child tag.</p>

  <p>Example:</p>
  <blockquote><pre>
&lt;w:Html id="MySearchBox"&gt;
 &lt;div class="SearchBox"&gt;
  &lt;w:StringInput id="query" value="*.*" /&gt;
  &lt;img src="http://example.org/pic.png" /&gt;
  &lt;w:Button id="search" title="Search" /&gt;
 &lt;/div&gt;
&lt;/w:Html&gt;
  </pre></blockquote>
  
  <p>This compiles (roughly) into:</p>
  <blockquote><pre>
import MyModule, OtherModule.SubMod

class MySearchBox(Html):
    html = """
 &lt;div class="SearchBox"&gt;
  %(query)s
  &lt;img src="http://example.org/pic.png" /&gt;
  %(search)s
 &lt;/div&gt;
"""
    class query(StringInput):
        value = "*.*"
    class search(Button):
        title = "Search"
  </pre></blockquote>

  <p>This is the foundation for using the <tt>Html</tt> widget, which
  uses this format string to merge the rendering of its child widgets.
  This widget is useful for implementing fancy layouts, extra CSS
  hooks and intermingle widgets with static text (e.g. labels,
  descriptions, help-texts etc).</p>


  <h2><a name="wwml_callback-binding" />Callback binding</h2>
  <p>A user interface is nothing without interactivity, in
  Webwidgets this is provided by callback functions. Callback
  functions can not be declared within Wwml as Wwml is not a
  programming language but a purely declarative UI definition
  language. Instead the Wwml widget definition has to "bind" to some
  Python class implementing the callbacks.</p>

  <p>A callback class is bound to a widget using the the <tt>bind</tt>
  attribute which specifies a class with callback methods.</p>

  <p>Example:</p>
  <blockquote><pre>
&lt;w:MyModule.MyWidget id="MyFirstWidget" foo="xyzzy" bind="MyCallBacks.MyCallbackClass" /&gt;
  </pre></blockquote>
  
  <p>This compiles into:</p>
  <blockquote><pre>
import MyModule, MyCallBacks

class MyFirstWidget(MyCallBacks.MyCallbackClass, MyModule.MyWidget):
    foo="xyzzy"
  </pre></blockquote>

  <p>To reduce code overhead, callback binding recurses through
  widgets so that child widgets are bound to member classes:</p>

  <p>Example:</p>
  <blockquote><pre>
&lt;w:Html id="MyFirstWidget" bind="MyCallBacks.MyCallbackClass"&gt;
 &lt;w:Html id="SomeWidget"&gt;
  &lt;w:Button id="SomeButton" title="Push me" /&gt;
 &lt;/w:Html&gt;
&lt;/w:Html&gt;
  </pre></blockquote>
  
  <p>This compiles into:</p>
  <blockquote><pre>
import MyModule, MyCallBacks

class MyFirstWidget(MyCallBacks.MyCallbackClass, html):
    class SomeWidget(MyCallBacks.MyCallbackClass.SomeWidget, Html):
        class MyFirstWidget(MyCallBacks.MyCallbackClass.SomeWidget.SomeButton, Button):
            title = "Push me"
  </pre></blockquote>


  <h2><a name="wwml_search-paths-for-widgets" />Search paths for widgets</h2>
  <p>As already stated tag names are module paths to existing widget
  classes. But these paths need not be complete - they are looked up
  along a search path of modules.</p>

  <p>Consider a search path consisting of <tt>MyProg.UI</tt>,
  <tt>MyLib.Widgets</tt> and <tt>Webwidgets</tt>. The tag
  <tt>&lt;w:Foo.SomeWidget /&gt;</tt> then results in a lookup for</p>
  <ul>
   <li><tt>MyProg.UI.Foo.SomeWidget</tt></li>
   <li><tt>MyLib.Widgets.Foo.SomeWidget</tt></li>
   <li><tt>Webwidgets.Foo.SomeWidget</tt></li>
  </ul>
  <p>and the first existing class in that list will be used.</p>

  <p>Search paths can be overridden for any widget and its children by
  specifying the <tt>using</tt> attribute. The contents of this
  attribute is a space separated list of module paths which is
  prepended to the search path used to lookup the widget and all its
  children.</p>

  <blockquote><pre>
&lt;w:Html id="MyFirstWidget" using="Webwidgets" &gt;
 &lt;w:Html id="SomeWidget" using="MyProg.UI MyLib.Widgets"&gt;
  &lt;w:Button id="SomeButton" title="Push me" /&gt;
 &lt;/w:Html&gt;
&lt;/w:Html&gt;
  </pre></blockquote>

  <!-- ################################################################ -->







  <h1><a name="i18n-L10n" />Internationalization and localization</h1>
  <p class="intro">The standard for translation of user interfaces in
  the Free Software world is <a
  href="http://www.gnu.org/software/gettext/">GNU gettext</a>.
  Webwidgets uses GNU gettext in conjunction with some additional
  tools and automation features.</p>

  <p>Translations in Webwidgets are widget specific, so that "File"
  can be translated into e.g. Swedish into either "Arkiv" or "Fil"
  depending on if it denotes the "File" menu or a file on the
  harddisk. Translations are of course inherited when subclassing a
  widget. Translations into the language 'en' for a widget in a file
  <tt>foo/bar.py</tt> are located in the file
  <tt>foo/bar.translations/en/LC_MESSAGES/Webwidgets.mo</tt>. The tool
  <tt>compiletranslations.sh</tt> can be used to compile all
  <tt>.po</tt>-files into corresponding <tt>.mo</tt>-files for all
  widgets.</p>

  <p>Traditionally gettext translation have been done manually by
  calling a special function, often called <tt>_()</tt> on every
  string to translate. This function loads the translation from a
  gettext library. A tool logically called <tt>gettext</tt> is used to
  extract all string constants surrounded by <tt>_()</tt> from the
  source code to be used as basis for translation. However, this model
  cannot handle strings from external sources such as an XML-file,
  e.g. the Wwml sources in Webwidgets.</p>

  <p>Webwidgets automatically translates all HTML format strings and
  all attribute values when drawing widgets. In practice this means
  that you never have to call <tt>_()</tt> yourself (but you can call
  it yourself, as a method on the widget object, if need be).
  Translatable strings for each widget can be gathered and put into
  <tt>.pot</tt>-files using the tool <tt>wwgettext</tt> that loads the
  python modules and gathers all class level attribute strings using
  introspection. Translatable strings for a file <tt>foo/bar.py</tt>
  are placed in <tt>foo/bar.translations/Webwidgets.pot</tt>.</p>

  <p>It is sometimes useful to work with all translations in a single
  file, as if Webwidgets did not localize translations to each widget.
  This can be achieved using the two tools
  <tt>collecttranslationtemplates.sh</tt> and
  <tt>distributetranslations.sh</tt> that collects and merges
  <tt>.pot</tt>-files and splits and distributes <tt>.po</tt>-files,
  respectively.</p>

  <!-- ################################################################ -->







  <h1><a name="acl" />Access control</h1>
  <p class="intro">Webwidgets provide a built-in access control
  method, where access to individual widgets (both viewing and
  changing values) can be controlled using a type of ACL (Access
  Control List).</p>

  <p>To enable this feature, you must override the
  <tt>AccessManager</tt> class attribute when subclassing
  <tt>Webwidgets.Program.Session</tt>.</p>

  <p>AccessManager should be a subclass of
  <tt>Webwidgets.ListAccessManager</tt> and provide a method
  <tt>get_access_list()</tt> that returns an apropriate ACL list,
  given the status of the current session (a user is logged in, the
  user is of this or that type, is a member of this or that group,
  etc).</p>

  <p>The format of the ACL is a list of tripples <tt>(Allow, Scope, Path)</tt>.
  The list is traversed from top to bottom, and the boolean <tt>Allow</tt>
  attribute first row whose <tt>Path</tt> and <tt>Scope</tt> matches the widget and
  action determines if the action is allowed or not.</p>

  <p><tt>Path</tt> is a path to the widget, with the action and window
  prepended. <tt>Scope</tt> is either <tt>SUBTREE</tt> or <tt>ONE</tt>
  to match the path and all child widgets to that path, or to match
  just that widget, respectively.</p>

  <p>The actions that can start a path are <tt>EDIT</tt>,
  <tt>REARRANGE</tt> and <tt>VIEW</tt>. The window is either
  <tt>DEFAULT_WINDOW</tt> or a window name.</p>

  <blockquote><pre>
(True,  ONE,     (VIEW, DEFAULT_WINDOW, 'Body', 'LogIn', 'Application', 'Menu', 'AppMenu')),
(False, SUBTREE, (VIEW, DEFAULT_WINDOW, 'Body', 'LogIn', 'Application', 'Menu', 'AppMenu')),
(False, SUBTREE, (VIEW, DEFAULT_WINDOW, 'Body', 'LogIn', 'Application', 'Menu', 'AppMenu', 'Home', 'Stones'),
(True,  SUBTREE, (VIEW, DEFAULT_WINDOW, 'Body', 'LogIn', 'Application', 'Menu', 'AppMenu', 'Home'),
(True,  SUBTREE, (VIEW, DEFAULT_WINDOW, 'Body', 'LogIn', 'Application')),
  </pre></blockquote>

  <p>To ease the creation of these lists, you can set the
  <tt>debug</tt> class attribute to <tt>True</tt> on your
  <tt>AccessManager</tt> class. This will print the paths for all
  attempts that Webwidgets does to access your widgets, and the
  outcome of each attempt.</p>

  <!-- ################################################################ -->







  <h1><a name="security" />Security</h1>
  <p class="intro">By default all Webwidgets applications run as the
  same user, usually the "webkit" user. This chapter describes how to
  improve this situation.</p>


  <p>A webwidgets application does not normally run as the "apache"
  user (as would e.g. most PHP applications). However, it does run as
  whatever user the Webware AppServer it is installed under is run as,
  and in most default setups that would be the "webkit" user, for all
  Webwidgets applications. Sometimes, the AppServer even runs as
  "root"(!).</p>

  <p>Having your Webwidgets applications separate from the webserver
  gives some extra security, but not much. Ideally, each Webwidgets
  application should run as a separate user as to contain a possible
  break-in to the smallest access possible. Such a setup is possible,
  elthough a bit cumbersome, since each such user has to be allocated
  a TCP port on localhost, and have a few lines in the apache config
  added for it. However, <em>this approach is strongly
  recommended.</em>. Also note that this is applicable to any Webware
  application, not just to Webwidgets applications.</p>

  <p>To set up such a system, create a user for each application. Set
  up a Webware work-dir inside the home-directory of each of these.
  Configure each to use a separate port (<tt>AdapterPort = PORT</tt>
  in <tt>Configs/AppServer.config</tt>) and configure apache to
  connect to that port for some URLs (<tt>WKServer localhost PORT</tt>
  and <tt>SetHandler webkit-handler in httpd.conf</tt>). Then install
  each application into one of these work-dirs
  (<tt>Configs/Application.config</tt>).</p>

  <!-- ################################################################ -->








  <h1><a name="license" />GNU General Public License</h1>
<p>
Version 2, June 1991
</p>

<pre>
Copyright (C) 1989, 1991 Free Software Foundation, Inc.  
51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre>

<h3><a name="SEC2" href="gpl-2.0.html#TOC2">Preamble</a></h3>

<p>
  The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
License is intended to guarantee your freedom to share and change free
software--to make sure the software is free for all its users.  This
General Public License applies to most of the Free Software
Foundation's software and to any other program whose authors commit to
using it.  (Some other Free Software Foundation software is covered by
the GNU Lesser General Public License instead.)  You can apply it to
your programs, too.

</p>

<p>
  When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
this service if you wish), that you receive source code or can get it
if you want it, that you can change the software or use pieces of it
in new free programs; and that you know you can do these things.
</p>

<p>
  To protect your rights, we need to make restrictions that forbid
anyone to deny you these rights or to ask you to surrender the rights.
These restrictions translate to certain responsibilities for you if you
distribute copies of the software, or if you modify it.
</p>

<p>
  For example, if you distribute copies of such a program, whether
gratis or for a fee, you must give the recipients all the rights that
you have.  You must make sure that they, too, receive or can get the
source code.  And you must show them these terms so they know their
rights.
</p>

<p>
  We protect your rights with two steps: (1) copyright the software, and
(2) offer you this license which gives you legal permission to copy,
distribute and/or modify the software.
</p>

<p>
  Also, for each author's protection and ours, we want to make certain
that everyone understands that there is no warranty for this free
software.  If the software is modified by someone else and passed on, we
want its recipients to know that what they have is not the original, so
that any problems introduced by others will not reflect on the original
authors' reputations.
</p>

<p>
  Finally, any free program is threatened constantly by software
patents.  We wish to avoid the danger that redistributors of a free
program will individually obtain patent licenses, in effect making the
program proprietary.  To prevent this, we have made it clear that any
patent must be licensed for everyone's free use or not licensed at all.
</p>

<p>
  The precise terms and conditions for copying, distribution and
modification follow.

</p>


<h3><a name="SEC3" href="gpl-2.0.html#TOC3">TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION</a></h3>


<p>
<strong>0.</strong>
 This License applies to any program or other work which contains
a notice placed by the copyright holder saying it may be distributed
under the terms of this General Public License.  The "Program", below,
refers to any such program or work, and a "work based on the Program"
means either the Program or any derivative work under copyright law:
that is to say, a work containing the Program or a portion of it,
either verbatim or with modifications and/or translated into another
language.  (Hereinafter, translation is included without limitation in
the term "modification".)  Each licensee is addressed as "you".
</p>

<p>
Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running the Program is not restricted, and the output from the Program
is covered only if its contents constitute a work based on the
Program (independent of having been made by running the Program).
Whether that is true depends on what the Program does.
</p>

<p>
<strong>1.</strong>
 You may copy and distribute verbatim copies of the Program's
source code as you receive it, in any medium, provided that you
conspicuously and appropriately publish on each copy an appropriate
copyright notice and disclaimer of warranty; keep intact all the
notices that refer to this License and to the absence of any warranty;
and give any other recipients of the Program a copy of this License
along with the Program.
</p>

<p>
You may charge a fee for the physical act of transferring a copy, and
you may at your option offer warranty protection in exchange for a fee.
</p>

<p>
<strong>2.</strong>
 You may modify your copy or copies of the Program or any portion
of it, thus forming a work based on the Program, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

</p>

<dl>
  <dt></dt>
    <dd>
      <strong>a)</strong>
      You must cause the modified files to carry prominent notices
      stating that you changed the files and the date of any change.
    </dd>
  <dt></dt>
    <dd>

      <strong>b)</strong>
      You must cause any work that you distribute or publish, that in
      whole or in part contains or is derived from the Program or any
      part thereof, to be licensed as a whole at no charge to all third
      parties under the terms of this License.
    </dd>
  <dt></dt>
    <dd>
      <strong>c)</strong>
      If the modified program normally reads commands interactively
      when run, you must cause it, when started running for such
      interactive use in the most ordinary way, to print or display an
      announcement including an appropriate copyright notice and a
      notice that there is no warranty (or else, saying that you provide
      a warranty) and that users may redistribute the program under
      these conditions, and telling the user how to view a copy of this
      License.  (Exception: if the Program itself is interactive but
      does not normally print such an announcement, your work based on
      the Program is not required to print an announcement.)
    </dd>
</dl>

<p>
These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Program,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Program, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote it.
</p>

<p>
Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Program.
</p>

<p>
In addition, mere aggregation of another work not based on the Program
with the Program (or with a work based on the Program) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.
</p>

<p>
<strong>3.</strong>
 You may copy and distribute the Program (or a work based on it,
under Section 2) in object code or executable form under the terms of
Sections 1 and 2 above provided that you also do one of the following:

</p>

<!-- we use this doubled UL to get the sub-sections indented, -->
<!-- while making the bullets as unobvious as possible. -->

<dl>
  <dt></dt>
    <dd>
      <strong>a)</strong>
      Accompany it with the complete corresponding machine-readable
      source code, which must be distributed under the terms of Sections
      1 and 2 above on a medium customarily used for software interchange; or,
    </dd>
  <dt></dt>

    <dd>
      <strong>b)</strong>
      Accompany it with a written offer, valid for at least three
      years, to give any third party, for a charge no more than your
      cost of physically performing source distribution, a complete
      machine-readable copy of the corresponding source code, to be
      distributed under the terms of Sections 1 and 2 above on a medium
      customarily used for software interchange; or,
    </dd>
  <dt></dt>
    <dd>
      <strong>c)</strong>
      Accompany it with the information you received as to the offer
      to distribute corresponding source code.  (This alternative is
      allowed only for noncommercial distribution and only if you
      received the program in object code or executable form with such
      an offer, in accord with Subsection b above.)
    </dd>

</dl>

<p>
The source code for a work means the preferred form of the work for
making modifications to it.  For an executable work, complete source
code means all the source code for all modules it contains, plus any
associated interface definition files, plus the scripts used to
control compilation and installation of the executable.  However, as a
special exception, the source code distributed need not include
anything that is normally distributed (in either source or binary
form) with the major components (compiler, kernel, and so on) of the
operating system on which the executable runs, unless that component
itself accompanies the executable.
</p>

<p>
If distribution of executable or object code is made by offering
access to copy from a designated place, then offering equivalent
access to copy the source code from the same place counts as
distribution of the source code, even though third parties are not
compelled to copy the source along with the object code.
</p>

<p>
<strong>4.</strong>
 You may not copy, modify, sublicense, or distribute the Program
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense or distribute the Program is
void, and will automatically terminate your rights under this License.
However, parties who have received copies, or rights, from you under
this License will not have their licenses terminated so long as such
parties remain in full compliance.
</p>

<p>
<strong>5.</strong>
 You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Program or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Program (or any work based on the
Program), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Program or works based on it.
</p>

<p>
<strong>6.</strong>
 Each time you redistribute the Program (or any work based on the
Program), the recipient automatically receives a license from the
original licensor to copy, distribute or modify the Program subject to
these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein.
You are not responsible for enforcing compliance by third parties to
this License.
</p>

<p>
<strong>7.</strong>

 If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Program at all.  For example, if a patent
license would not permit royalty-free redistribution of the Program by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Program.
</p>

<p>
If any portion of this section is held invalid or unenforceable under
any particular circumstance, the balance of the section is intended to
apply and the section as a whole is intended to apply in other
circumstances.
</p>

<p>
It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system, which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.
</p>

<p>
This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.
</p>

<p>

<strong>8.</strong>
 If the distribution and/or use of the Program is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Program under this License
may add an explicit geographical distribution limitation excluding
those countries, so that distribution is permitted only in or among
countries not thus excluded.  In such case, this License incorporates
the limitation as if written in the body of this License.
</p>

<p>
<strong>9.</strong>
 The Free Software Foundation may publish revised and/or new versions
of the General Public License from time to time.  Such new versions will
be similar in spirit to the present version, but may differ in detail to
address new problems or concerns.
</p>

<p>
Each version is given a distinguishing version number.  If the Program
specifies a version number of this License which applies to it and "any
later version", you have the option of following the terms and conditions
either of that version or of any later version published by the Free
Software Foundation.  If the Program does not specify a version number of
this License, you may choose any version ever published by the Free Software
Foundation.
</p>

<p>
<strong>10.</strong>
 If you wish to incorporate parts of the Program into other free
programs whose distribution conditions are different, write to the author
to ask for permission.  For software which is copyrighted by the Free
Software Foundation, write to the Free Software Foundation; we sometimes
make exceptions for this.  Our decision will be guided by the two goals
of preserving the free status of all derivatives of our free software and
of promoting the sharing and reuse of software generally.
</p>

<p><strong>NO WARRANTY</strong></p>

<p>
<strong>11.</strong>
 BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
REPAIR OR CORRECTION.
</p>

<p>
<strong>12.</strong>
 IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.
</p>

<h3>END OF TERMS AND CONDITIONS</h3>

<h3><a name="SEC4" href="gpl-2.0.html#TOC4">How to Apply These Terms to Your New Programs</a></h3>

<p>
  If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these terms.
</p>

<p>
  To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least
the "copyright" line and a pointer to where the full notice is found.
</p>

<pre>
<var>one line to give the program's name and an idea of what it does.</var>
Copyright (C) <var>yyyy</var>  <var>name of author</var>

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
</pre>

<p>
Also add information on how to contact you by electronic and paper mail.
</p>

<p>
If the program is interactive, make it output a short notice like this
when it starts in an interactive mode:
</p>

<pre>
Gnomovision version 69, Copyright (C) <var>year</var> <var>name of author</var>
Gnomovision comes with ABSOLUTELY NO WARRANTY; for details
type `show w'.  This is free software, and you are welcome
to redistribute it under certain conditions; type `show c' 
for details.
</pre>

<p>
The hypothetical commands <samp>`show w'</samp> and <samp>`show c'</samp> should show
the appropriate parts of the General Public License.  Of course, the
commands you use may be called something other than <samp>`show w'</samp> and
<samp>`show c'</samp>; they could even be mouse-clicks or menu items--whatever
suits your program.
</p>

<p>

You should also get your employer (if you work as a programmer) or your
school, if any, to sign a "copyright disclaimer" for the program, if
necessary.  Here is a sample; alter the names:
</p>


<pre>
Yoyodyne, Inc., hereby disclaims all copyright
interest in the program `Gnomovision'
(which makes passes at compilers) written 
by James Hacker.

<var>signature of Ty Coon</var>, 1 April 1989
Ty Coon, President of Vice
</pre>

<p>
This General Public License does not permit incorporating your program into
proprietary programs.  If your program is a subroutine library, you may
consider it more useful to permit linking proprietary applications with the
library.  If this is what you want to do, use the 
<a href="/licenses/lgpl.html">GNU Lesser General Public License</a>
instead of this License.
</p>

 </body>
</html>
